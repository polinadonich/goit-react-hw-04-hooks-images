(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,a){e.exports={App:"App_App__2FvjJ",notificationText:"App_notificationText__2zsUh"}},12:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2_mHM",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2Th2v"}},13:function(e,t,a){e.exports={Overlay:"Modal_Overlay__38gOQ",Modal:"Modal_Modal__1q9k7"}},15:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__pBg1s"}},16:function(e,t,a){e.exports={Button:"Button_Button__a-zud"}},18:function(e,t,a){e.exports={loader:"Loader_loader__2hhYc"}},23:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(7),o=a.n(c),s=(a(23),a(4)),i=a.n(s),u=a(14),l=a(9),m=a(3),b=a(11),j=a.n(b),h=a(5),p=a.n(h),f=a(1);function d(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(m.a)(a,2),c=n[0],o=n[1];return Object(f.jsx)("header",{className:p.a.Searchbar,children:Object(f.jsxs)("form",{className:p.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==c.trim()&&(t(c),o(""))},children:[Object(f.jsx)("button",{type:"submit",className:p.a.SearchFormButton,children:Object(f.jsx)("span",{className:p.a.SearchFormButtonLabel,children:"Search"})}),Object(f.jsx)("input",{className:p.a.searchItem,type:"text",autoComplete:"off",autoFocus:!0,onChange:function(e){o(e.currentTarget.value.toLowerCase())},placeholder:"Search images and photos"})]})})}var g=a(12),O=a.n(g);var _=function(e){var t=e.webformatURL,a=e.largeImageURL,r=e.onOpenModal;return Object(f.jsx)("li",{className:O.a.ImageGalleryItem,children:Object(f.jsx)("img",{onClick:function(e){r(e.target.dataset.large)},src:t,alt:"",className:O.a.ImageGalleryItemImage,"data-large":a})})},x=a(15),v=a.n(x);var S=function(e){var t=e.imagePage,a=e.onOpenModal;return Object(f.jsx)("ul",{className:v.a.ImageGallery,children:t.map((function(e){var t=e.id,r=e.webformatURL,n=e.largeImageURL;return Object(f.jsx)(_,{webformatURL:r,largeImageURL:n,onOpenModal:a},t)}))})},y=a(16),I=a.n(y);var w=function(e){var t=e.onClick;return Object(f.jsx)("button",{className:I.a.Button,type:"button",onClick:t,children:"Load more"})},L=a(17),k=a.n(L),F=a(18),N=a.n(F);var U=function(){return Object(f.jsx)(k.a,{className:N.a.loader,type:"Circles",color:"#3f51b5",height:100,width:100})},B=a(13),C=a.n(B),G=document.querySelector("#modal-root");var M=function(e){var t=e.onClose,a=e.bigImageUrl,n=function e(a){"Escape"===a.code&&(window.removeEventListener("keydown",e),t())};return Object(r.useEffect)((function(){window.addEventListener("keydown",n)})),Object(c.createPortal)(Object(f.jsx)("div",{className:C.a.Overlay,onClick:function(e){e.target===e.currentTarget&&(window.removeEventListener("keydown",n),t())},children:Object(f.jsx)("div",{className:C.a.Modal,children:Object(f.jsx)("img",{src:a,alt:""})})}),G)},R="23430004-cf3d84f40651496950214677e",E="https://pixabay.com/api";function T(){return(T=Object(l.a)(i.a.mark((function e(t,a){var r,n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(E,"/?image_type=photo&orientation=horizontal&q=").concat(t,"&page=").concat(a,"&per_page=12&key=").concat(R),e.next=3,fetch(r);case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=function(e,t){return T.apply(this,arguments)};var J=function(){var e=Object(r.useState)(""),t=Object(m.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)([]),o=Object(m.a)(c,2),s=o[0],b=o[1],h=Object(r.useState)(1),p=Object(m.a)(h,2),g=p[0],O=p[1],_=Object(r.useState)(null),x=Object(m.a)(_,2),v=x[0],y=x[1],I=Object(r.useState)(!1),L=Object(m.a)(I,2),k=L[0],F=L[1],N=Object(r.useState)(!1),B=Object(m.a)(N,2),C=B[0],G=B[1],R=Object(r.useState)(""),E=Object(m.a)(R,2),T=E[0],J=E[1],q=function(e){G(!C),J(e)};return Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(t,a){var r,n,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return F(!0),e.next=5,A(t,a);case 5:r=e.sent,n=r.hits,c=r.total,o=n.map((function(e){return{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL}})),b((function(e){return[].concat(Object(u.a)(e),Object(u.a)(o))})),y(c),F(!1),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});case 13:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();e(a,g)}),[a,g]),Object(f.jsxs)("div",{className:j.a.App,children:[Object(f.jsx)(d,{onSubmit:function(e){b([]),O(1),n(e)}}),Object(f.jsx)(S,{searchQuery:a,imagePage:s,onOpenModal:q}),k&&Object(f.jsx)(U,{}),v>0&&Object(f.jsx)(w,{onClick:function(){O((function(e){return e+1}))}}),!k&&0===v&&Object(f.jsx)("p",{className:j.a.notificationText,children:"Sorry, we do not have any images for your request"}),C&&Object(f.jsx)(M,{onClose:q,bigImageUrl:T})]})};o.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(J,{})}),document.getElementById("root"))},5:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__3CeZo",SearchForm:"Searchbar_SearchForm__2mJmF",SearchFormButton:"Searchbar_SearchFormButton__3g4Kk",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__2_LZF",SearchFormInput:"Searchbar_SearchFormInput__1J0mv"}}},[[46,1,2]]]);
//# sourceMappingURL=main.4c87c94a.chunk.js.map