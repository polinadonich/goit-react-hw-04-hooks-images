{"version":3,"sources":["App.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","fetchImages.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","query","setQuery","className","s","SearchForm","e","preventDefault","trim","type","SearchFormButton","SearchFormButtonLabel","searchItem","autoComplete","autoFocus","onChange","currentTarget","value","toLowerCase","placeholder","ImageGalleryItem","props","webformatURL","largeImageURL","onOpenModal","onClick","target","dataset","large","src","alt","ImageGalleryItemImage","ImageGallery","imagePage","map","id","Button","Loader","loader","color","height","width","modalRoot","document","querySelector","Modal","onClose","bigImageUrl","handleKeyDown","code","window","removeEventListener","useEffect","addEventListener","createPortal","Overlay","API_KEY","BASE_URL","searchQuery","page","a","url","fetch","response","json","images","fetchImages","App","setSearchQuery","setImagePage","setPage","total","setTotal","loading","setLoading","showModal","setShowModal","setBigImageUrl","toggleModal","fetchImagePages","hits","prevImagePage","scrollTo","top","documentElement","scrollHeight","behavior","prevPage","notificationText","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4c87c94a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2FvjJ\",\"notificationText\":\"App_notificationText__2zsUh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2_mHM\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2Th2v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__38gOQ\",\"Modal\":\"Modal_Modal__1q9k7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__pBg1s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__a-zud\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__2hhYc\"};","import { useState } from \"react\";\nimport s from \"./Searchbar.module.css\";\nimport PropTypes from \"prop-types\";\n// import SearchForm from \"../SearchForm\";\n\n// class Searchbar extends Component {\n//   state = {\n//     searchQuery: \"\",\n//   };\n\nexport default function Searchbar({ onSubmit }) {\n  const [query, setQuery] = useState(\"\");\n\n  // handleSearchQuery = (e) => {\n  //   this.setState({ searchQuery: e.currentTarget.value });\n  // };\n\n  // handleSubmit = (e) => {\n  //   e.preventDefault();\n  //   this.props.onSubmit(this.state.searchQuery);\n  //   this.setState({ searchQuery: \"\" });\n  //   if (this.state.searchQuery === \"\") {\n  //     toast.error(\"Please, enter your request!\");\n  //   }\n  // };\n\n  const searchItem = (e) => {\n    setQuery(e.currentTarget.value.toLowerCase());\n  };\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (query.trim() === \"\") {\n      return;\n    }\n\n    onSubmit(query);\n    setQuery(\"\");\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <span className={s.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={s.searchItem}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          onChange={searchItem}\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n      {/* <SearchForm\n          onSubmit={this.handleSubmit}\n          onChange={this.handleSearchQuery}\n          value={searchQuery}\n        /> */}\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nfunction ImageGalleryItem(props) {\n  const { webformatURL, largeImageURL, onOpenModal } = props;\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        onClick={(e) => {\n          onOpenModal(e.target.dataset.large);\n        }}\n        src={webformatURL}\n        alt=\"\"\n        className={s.ImageGalleryItemImage}\n        data-large={largeImageURL}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  onOpenModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from \"../ImageGalleryItem\";\nimport PropTypes from \"prop-types\";\nimport s from \"./ImageGallery.module.css\";\n\nfunction ImageGallery(props) {\n  const { imagePage, onOpenModal } = props;\n\n  return (\n    <ul className={s.ImageGallery}>\n      {imagePage.map(({ id, webformatURL, largeImageURL }) => {\n        return (\n          <ImageGalleryItem\n            key={id}\n            webformatURL={webformatURL}\n            largeImageURL={largeImageURL}\n            onOpenModal={onOpenModal}\n          />\n        );\n      })}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  imagePage: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      webformatURL: PropTypes.string,\n      largeImageURL: PropTypes.string,\n    })\n  ).isRequired,\n  onOpenModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nfunction Button({ onClick }) {\n  return (\n    <button className={s.Button} type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import LoaderSpiner from \"react-loader-spinner\";\nimport s from \"./Loader.module.css\";\n\nfunction Loader() {\n  return (\n    <LoaderSpiner\n      className={s.loader}\n      type=\"Circles\"\n      color=\"#3f51b5\"\n      height={100}\n      width={100}\n    />\n  );\n}\n\nexport default Loader;\n","import { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { createPortal } from \"react-dom\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nfunction Modal({ onClose, bigImageUrl }) {\n  const handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n      onClose();\n    }\n  };\n\n  const handleBackdropClick = (e) => {\n    if (e.target === e.currentTarget) {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n      onClose();\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeyDown);\n  });\n\n  return createPortal(\n    <div className={s.Overlay} onClick={handleBackdropClick}>\n      <div className={s.Modal}>\n        <img src={bigImageUrl} alt=\"\" />\n      </div>\n    </div>,\n    modalRoot\n  );\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  src: PropTypes.string.isRequired,\n};\n\nexport default Modal;\n","const API_KEY = \"23430004-cf3d84f40651496950214677e\";\nconst BASE_URL = \"https://pixabay.com/api\";\n\nasync function fetchImages(searchQuery, page) {\n  const url = `${BASE_URL}/?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${page}&per_page=12&key=${API_KEY}`;\n\n  const response = await fetch(url);\n  const images = await response.json();\n  //   this.setState({ loading: false });\n  return images;\n}\n\nexport default fetchImages;\n","import { useEffect, useState } from \"react\";\nimport s from \"./App.module.css\";\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Button from \"./components/Button\";\nimport Loader from \"./components/Loader\";\nimport Modal from \"./components/Modal\";\nimport fetchImages from \"./fetchImages\";\n\nfunction App() {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [imagePage, setImagePage] = useState([]);\n  const [page, setPage] = useState(1);\n  const [total, setTotal] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [bigImageUrl, setBigImageUrl] = useState(\"\");\n\n  const toggleModal = (bigImageUrl) => {\n    setShowModal(!showModal);\n    setBigImageUrl(bigImageUrl);\n  };\n\n  const formSubmitHandler = (value) => {\n    setImagePage([]);\n    setPage(1);\n    setSearchQuery(value);\n  };\n\n  const handleClickMoreImages = () => {\n    setPage((prevPage) => prevPage + 1);\n  };\n\n  useEffect(() => {\n    const fetchImagePages = async (searchQuery, page) => {\n      if (!searchQuery) {\n        return;\n      }\n      setLoading(true);\n\n      const { hits, total } = await fetchImages(searchQuery, page);\n      const images = hits.map(({ id, webformatURL, largeImageURL }) => {\n        return { id, webformatURL, largeImageURL };\n      });\n      setImagePage((prevImagePage) => [...prevImagePage, ...images]);\n      setTotal(total);\n      setLoading(false);\n\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    };\n\n    fetchImagePages(searchQuery, page);\n  }, [searchQuery, page]);\n\n  return (\n    <div className={s.App}>\n      <Searchbar onSubmit={formSubmitHandler} />\n\n      <ImageGallery\n        searchQuery={searchQuery}\n        imagePage={imagePage}\n        onOpenModal={toggleModal}\n      />\n\n      {loading && <Loader />}\n      {total > 0 && <Button onClick={handleClickMoreImages} />}\n      {!loading && total === 0 && (\n        <p className={s.notificationText}>\n          Sorry, we do not have any images for your request\n        </p>\n      )}\n      {showModal && <Modal onClose={toggleModal} bigImageUrl={bigImageUrl} />}\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n    {/* <p>Приветы</p> */}\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3CeZo\",\"SearchForm\":\"Searchbar_SearchForm__2mJmF\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3g4Kk\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2_LZF\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1J0mv\"};"],"sourceRoot":""}